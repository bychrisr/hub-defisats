---
description: PadrÃµes de estilo de cÃ³digo e logging para o projeto, baseados no padrÃ£o existente.
globs: []
alwaysApply: true
---

## âœï¸ Estilo de CÃ³digo e Logging

### Logging para Debugging AvanÃ§ado (PadrÃ£o Atual)

Este projeto utiliza um padrÃ£o especÃ­fico de logging para facilitar o diagnÃ³stico e rastreamento. A IA deve **seguir este padrÃ£o** ao adicionar novos logs.

#### Formato Geral

- **Estrutura:** `[Emoji] NOME_DO_COMPONENTE/SERVICE - DescriÃ§Ã£o da aÃ§Ã£o ou estado`
- **Emoji:** Usado para categorizar o tipo de log (ver abaixo).
- **Nome do Componente/ServiÃ§o:** Nome curto e descritivo da parte do cÃ³digo que estÃ¡ gerando o log (ex: `VERSION SERVICE`, `UPDATE NOTIFICATION`, `CHART CREATION`, `INDICATOR MANAGER`).
- **Mensagem:** DescriÃ§Ã£o clara e concisa da aÃ§Ã£o, estado ou evento. Inclua **dados relevantes** em formato `{chave: valor}` sempre que Ãºtil para debug, como objetos de estado, resultados de operaÃ§Ãµes, parÃ¢metros ou IDs.

#### Emojis PadrÃ£o e Seus Significados

- **`ğŸš€` (Foguete):** InicializaÃ§Ã£o, inÃ­cio de processos ou aÃ§Ãµes principais. Ex: `ğŸš€ VERSION CONTEXT - Initializing version service`
- **`ğŸ”„` (Setas Circulares):** AtualizaÃ§Ãµes contÃ­nuas, ciclos, mudanÃ§as de estado, re-execuÃ§Ãµes. Ex: `ğŸ”„ EFFECTIVE DATA - Dados efetivos calculados: {useApiData: false, ...}`
- **`ğŸ”` (Lupa):** InformaÃ§Ãµes detalhadas para debug, verificaÃ§Ãµes internas. Ex: `ğŸ” UPDATE NOTIFICATION DEBUG: {hasUpdate: true, ...}`
- **`ğŸ“Š` (GrÃ¡fico):** Logs relacionados a dados, mÃ©tricas, cÃ¡lculos. Ex: `ğŸ“Š useTotalPL - Current totalPL: 0`
- **`âœ…` (Check):** ConclusÃ£o bem-sucedida de uma operaÃ§Ã£o ou etapa. Ex: `âœ… CLEAR PRICELINES - Todas as priceLines foram removidas`
- **`âŒ` (X):** Erros, falhas ou situaÃ§Ãµes de erro esperadas. Ex: `âŒ RSI PANE - Chart nÃ£o estÃ¡ disponÃ­vel`
- **`ğŸ†•` (Novo):** Novas versÃµes, atualizaÃ§Ãµes disponÃ­veis, notificaÃ§Ãµes. Ex: `ğŸ†• VERSION SERVICE - New version available!`
- **`ğŸ“¦` (Pacote):** InformaÃ§Ãµes sobre versÃµes, builds, configuraÃ§Ãµes carregadas. Ex: `ğŸ“¦ VERSION SERVICE - Server version info: {...}`
- **`â³` (Ampulheta):** Espera, aguardo de dados ou condiÃ§Ãµes. Ex: `â³ CHART CREATION - Aguardando dados vÃ¡lidos: {...}`
- **`ğŸ§¹` (Vassoura):** Limpeza de recursos, remoÃ§Ã£o de dados ou reset. Ex: `ğŸ§¹ CHART CLEANUP - Limpando grÃ¡fico`
- **`ğŸ¨` (Paleta):** AlteraÃ§Ãµes ou atualizaÃ§Ãµes na UI. Ex: `ğŸ¨ FAVICON - Force updated favicon with cache busting: ...`
- **`ğŸ”—` (Link):** ConexÃµes, chamadas de API ou interaÃ§Ãµes com serviÃ§os externos (embora nÃ£o explÃ­cito nos logs atuais, Ã© um uso comum e Ãºtil).
- **`â°` (RelÃ³gio):** Eventos acionados por tempo, como updates periÃ³dicos. Ex: `â° USE INDICATOR MANAGER - Periodic update triggered`
- **`ğŸ›¡ï¸` (Escudo):** AutenticaÃ§Ã£o, autorizaÃ§Ã£o, estado de seguranÃ§a. Ex: `ğŸ›¡ï¸ SIMPLE AUTH GUARD - State: {...}`

#### Boas PrÃ¡ticas para Logs

- **Seja Descritivo:** A mensagem deve informar claramente *o quÃª* estÃ¡ acontecendo.
- **Inclua Contexto:** Sempre que possÃ­vel, adicione um objeto JSON `{...}` com os dados relevantes no momento do log (estado, parÃ¢metros, resultados, flags).
- **Use o Nome do Componente:** Prefixe com o nome do serviÃ§o, hook, componente ou funÃ§Ã£o que estÃ¡ gerando o log para fÃ¡cil identificaÃ§Ã£o.
- **ConsistÃªncia de Emoji:** Use o emoji apropriado conforme a lista acima para manter a consistÃªncia visual e semÃ¢ntica.
- **Evite `console.log` Puro:** Prefira `console.debug`, `console.info`, `console.warn`, `console.error` quando apropriado, embutidos com o padrÃ£o de emoji e componente (ex: `console.debug("ğŸ” ...")`).
- **Quando Logar:**
  - No inÃ­cio e fim de funÃ§Ãµes crÃ­ticas.
  - ApÃ³s chamadas de API ou operaÃ§Ãµes externas (sucesso ou falha).
  - Quando decisÃµes condicionais importantes forem tomadas.
  - Sempre que o estado de um componente ou serviÃ§o for alterado significativamente.
  - Em erros ou exceÃ§Ãµes, incluindo o objeto de erro se possÃ­vel.

#### Exemplo (baseado no padrÃ£o atual)

```javascript
// Exemplo de log de inicializaÃ§Ã£o
console.debug("ğŸš€ VERSION CONTEXT - Initializing version service");

// Exemplo de log de estado carregado
console.log("ğŸ“¦ VERSION CONTEXT - Loaded stored version info:", {
  hasUpdate: true,
  currentVersion: '0.0.4',
  latestVersion: '1.5.0',
  buildTime: '2025-01-09T03:45:00.000Z',
  features: featuresArray
});

// Exemplo de log de verificaÃ§Ã£o/debug
console.debug("ğŸ” UPDATE NOTIFICATION DEBUG:", {
  hasUpdate: true,
  versionInfo: versionInfoObject,
  shouldShowNotification: true,
  hasBeenNotified: false,
  currentVersion: '0.0.4'
});

// Exemplo de log de sucesso
console.log("âœ… CLEAR PRICELINES - Todas as priceLines foram removidas");

// Exemplo de log de erro
console.error("âŒ RSI PANE - Chart nÃ£o estÃ¡ disponÃ­vel", { chartExists: false });