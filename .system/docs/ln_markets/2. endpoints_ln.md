# Relatório de Endpoints da API v2 da LN Markets

Esta documentação detalha os endpoints da API v2 da LN Markets, incluindo métodos HTTP, caminhos, parâmetros, corpos de requisição e possíveis respostas.

## Geral

*   **Base URL (Mainnet):** `https://api.lnmarkets.com/v2`
*   **Base URL (Testnet):** `https://api.testnet4.lnmarkets.com/v2`
*   **Autenticação:** Requer assinatura da requisição com API Key.
*   **Headers Obrigatórios (Requisições Autenticadas):**
    *   `LNM-ACCESS-KEY`: Sua chave de API.
    *   `LNM-ACCESS-SIGNATURE`: Assinatura HMAC SHA256 da requisição.
    *   `LNM-ACCESS-PASSPHRASE`: A passphrase associada à chave de API.
    *   `LNM-ACCESS-TIMESTAMP`: Timestamp UTC em milissegundos.
*   **Limites de Taxa:**
    *   Endpoints Autenticados: 1 requisição por segundo.
    *   Endpoints Públicos (sem autenticação): 30 requisições por minuto.

---

## 1. Dados de Mercado (Possivelmente Públicos)

### 1.1. Ticker de Futuros

*   **Método:** `GET`
*   **Caminho:** `/futures/btc_usd/ticker`
*   **Descrição:** Obtém os dados atuais do ticker de mercado para futuros BTC/USD.
*   **Resposta (200 OK):**
    ```json
    {
      "index": 42000,
      "lastPrice": 42050,
      "askPrice": 42060,
      "bidPrice": 42040,
      "carryFeeRate": 0.0001,
      "carryFeeTimestamp": 1684857600000,
      "exchangesWeights": {}
    }
    ```

### 1.2. Histórico do Índice de Futuros

*   **Método:** `GET`
*   **Caminho:** `/futures/btc_usd/index`
*   **Descrição:** Obtém o histórico do preço do índice para futuros BTC/USD.
*   **Parâmetros de Query:**
    *   `from` (integer, obrigatório): Timestamp inicial (ms).
    *   `to` (integer, obrigatório): Timestamp final (ms).
    *   `limit` (integer, opcional, padrão: 100, min: 1, max: 1000): Número máximo de registros.
*   **Resposta (200 OK):**
    ```json
    [
      {
        "time": 1684835577863,
        "value": 42088
      },
      {
        "time": 1684835597656,
        "value": 42089
      }
    ]
    ```
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid parameter: from"
    }
    ```

### 1.3. Histórico de Preços de Futuros

*   **Método:** `GET`
*   **Caminho:** `/futures/btc_usd/price`
*   **Descrição:** Obtém o histórico de preços para futuros BTC/USD.
*   **Parâmetros de Query:**
    *   `from` (integer, obrigatório): Timestamp inicial (ms).
    *   `to` (integer, obrigatório): Timestamp final (ms).
    *   `limit` (integer, opcional, padrão: 100, min: 1, max: 1000): Número máximo de registros.
*   **Resposta (200 OK):** (Estrutura semelhante à do índice, mas com preços de mercado)
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid parameter: from"
    }
    ```

### 1.4. Histórico de Taxas de Carry de Futuros (Autenticado)

*   **Método:** `GET`
*   **Caminho:** `/futures/carry-fees`
*   **Descrição:** Obtém o histórico de taxas de carry pagas/recebidas para o usuário.
*   **Parâmetros de Query:**
    *   `from` (integer, obrigatório): Timestamp inicial (ms).
    *   `to` (integer, obrigatório): Timestamp final (ms).
    *   `limit` (integer, opcional, padrão: 100, min: 1, max: 1000): Número máximo de registros.
*   **Resposta (200 OK):**
    ```json
    [
      {
        "id": "46b6cd74-d91d-4f25-8a55-1cde32a9341c",
        "time": 1684857591929,
        "price": 15885,
        "fee_rate": 0.0001
      }
    ]
    ```
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid parameter: from"
    }
    ```

### 1.5. Detalhes do Mercado de Futuros

*   **Método:** `GET`
*   **Caminho:** `/futures/market`
*   **Descrição:** Obtém detalhes do mercado de futuros (configuração, limites, status de atividade, taxas).
*   **Resposta (200 OK):**
    ```json
    {
      "active": true,
      "limits": {
        "quantity": {
          "min": 0,
          "max": 1000000000
        },
        "trade": 100,
        "leverage": {
          "min": 1,
          "max": 100
        },
        "count": {
          "max": 100
        }
      },
      "fees": {
        "carry": {
          "min": 0.0001,
          "hours": [0, 8, 16]
        },
        "trading": {
          "tiers": [
            {
              "minVolume": 0,
              "fees": 0.001
            }
            // ... mais tiers
          ]
        }
      }
    }
    ```

### 1.6. Detalhes do Mercado de Opções

*   **Método:** `GET`
*   **Caminho:** `/options/market`
*   **Descrição:** Obtém detalhes do mercado de opções (configuração, limites, status de atividade, taxas).
*   **Resposta (200 OK):**
    ```json
    {
      "active": true,
      "limits": {
        "margin": {
          "min": 0,
          "max": 500000
        },
        "quantity": {
          "min": 1,
          "max": 2200000
        },
        "count": {
          "max": 50
        }
      },
      "fees": {
        "trading": 0.0005
      }
    }
    ```

### 1.7. Índice de Volatilidade de Opções

*   **Método:** `GET`
*   **Caminho:** `/options/btc_usd/volatility-index`
*   **Descrição:** Obtém o histórico do índice de volatilidade para opções BTC/USD.
*   **Parâmetros de Query:**
    *   `from` (number, obrigatório): Timestamp inicial (ms).
    *   `to` (number, obrigatório): Timestamp final (ms).
    *   `limit` (integer, opcional, padrão: 100, min: 1, max: 1000): Número máximo de registros.
*   **Resposta (200 OK):**
    ```json
    [
      {
        "time": 1628604000000,
        "index": 40.88
      },
      {
        "time": 1628603940000,
        "index": 40.80
      }
    ]
    ```
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid parameter: from"
    }
    ```

### 1.8. Classificação de Traders (Leaderboard)

*   **Método:** `GET`
*   **Caminho:** `/leaderboard`
*   **Descrição:** Obtém a classificação de traders.
*   **Resposta (200 OK):**
    ```json
    {
      "daily": [
        {
          "username": "bob",
          "pl": 4242424242,
          "direction": 1
        }
      ],
      "weekly": [
        {
          "username": "kevin",
          "pl": 3491941,
          "direction": 1
        }
        // ... até 10 entradas
      ],
      "monthly": [ /* ... */ ],
      "all_time": [ /* ... */ ]
    }
    ```
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid request"
    }
    ```

---

## 2. Operações de Futuros (Autenticadas)

### 2.1. Abrir uma Posição de Futuros

*   **Método:** `POST`
*   **Caminho:** `/futures`
*   **Descrição:** Abre uma nova posição de futuro.
*   **Headers:** `Content-Type: application/json` + Cabeçalhos de autenticação.
*   **Corpo da Requisição:**
    ```json
    {
      "type": "m", // ou "l" para limit
      "side": "b", // ou "s"
      "leverage": 10,
      "quantity": 1000, // ou "margin"
      "price": 20000, // obrigatório para ordens limit
      "stoploss": 18000, // opcional
      "takeprofit": 22000 // opcional
    }
    ```
*   **Resposta (200 OK):** (Objeto de trade atualizado)
    ```json
    {
      "uid": "821f4a4d-5fad-4cdb-ac89-60d4a1a9795b",
      "type": "m",
      "id": "d0b9f9a0-4f6e-4a5a-8b7a-7f0f5f9a8a7e",
      "side": "b",
      "opening_fee": 108,
      "closing_fee": 100,
      "maintenance_margin": 200,
      "quantity": 108,
      "margin": 1000,
      "leverage": 10,
      "price": 20000,
      "liquidation": 18000,
      "pl": 80,
      "creation_ts": 1629782480000,
      "market_filled_ts": 1629782400000,
      "closed_ts": null,
      "entry_price": 19500,
      "entry_margin": 950,
      "open": false,
      "running": true,
      "canceled": false,
      "closed": false,
      "sum_carry_fees": 50
    }
    ```

### 2.2. Obter Posições de Futuros

*   **Método:** `GET`
*   **Caminho:** `/futures`
*   **Descrição:** Obtém as posições de futuro do usuário.
*   **Parâmetros de Query:**
    *   `type` (string, obrigatório): `running`, `open`, `closed`.
    *   `from` (integer, opcional): Timestamp inicial (ms).
    *   `to` (integer, opcional): Timestamp final (ms).
    *   `limit` (integer, opcional, padrão: 100, min: 1, max: 1000): Número máximo de registros.
*   **Resposta (200 OK):** Array de objetos de trade (semelhante ao exemplo acima).
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid parameter: type"
    }
    ```

### 2.3. Obter Posição de Futuros por ID

*   **Método:** `GET`
*   **Caminho:** `/futures/{id}`
*   **Descrição:** Obtém uma posição de futuro específica pelo ID.
*   **Parâmetros de Caminho:**
    *   `id` (string, UUID, obrigatório): ID da posição.
*   **Resposta (200 OK):** Objeto de trade específico.
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid trade ID"
    }
    ```

### 2.4. Fechar uma Posição de Futuros

*   **Método:** `DELETE`
*   **Caminho:** `/futures/{id}`
*   **Descrição:** Fecha uma posição de futuro específica.
*   **Parâmetros de Caminho:**
    *   `id` (string, UUID, obrigatório): ID da posição.
*   **Resposta (200 OK):** Objeto de trade fechado.
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid trade ID"
    }
    ```

### 2.5. Cancelar uma Ordem Limit de Futuros

*   **Método:** `DELETE`
*   **Caminho:** `/futures/{id}/cancel`
*   **Descrição:** Cancela uma ordem limit de futuro pendente.
*   **Parâmetros de Caminho:**
    *   `id` (string, UUID, obrigatório): ID da ordem.
*   **Corpo da Requisição:**
    ```json
    {
      "id": "d0b9f9a0-4f6e-4a5a-8b7a-7f0f5f9a8a7e"
    }
    ```
*   **Resposta (200 OK):** Objeto de trade cancelado.

### 2.6. Atualizar Stop-Loss ou Take-Profit

*   **Método:** `PUT`
*   **Caminho:** `/futures/{id}/stop-loss-take-profit`
*   **Descrição:** Atualiza os preços de stop-loss e take-profit para uma posição de futuro.
*   **Parâmetros de Caminho:**
    *   `id` (string, UUID, obrigatório): ID da posição.
*   **Corpo da Requisição:**
    ```json
    {
      "stopLoss": 19000, // opcional
      "takeProfit": 21000 // opcional
    }
    ```
*   **Resposta (200 OK):** Objeto de trade atualizado (com `stoploss` e `takeprofit`).
    ```json
    {
      // ... outros campos ...
      "stoploss": 19000,
      "takeprofit": 21000
      // ... outros campos ...
    }
    ```

### 2.7. Atualizar Reduce-Only

*   **Método:** `PUT`
*   **Caminho:** `/futures/{id}/reduce-only`
*   **Descrição:** Atualiza o parâmetro `reduceOnly` para uma posição de futuro.
*   **Parâmetros de Caminho:**
    *   `id` (string, UUID, obrigatório): ID da posição.
*   **Corpo da Requisição:**
    ```json
    {
      "reduceOnly": true
    }
    ```
*   **Resposta (200 OK):** Objeto de trade atualizado.

### 2.8. Cash-In (Saque Parcial) de Futuros

*   **Método:** `POST`
*   **Caminho:** `/futures/{id}/cash-in`
*   **Descrição:** Realiza um saque parcial (cash-in) de uma posição de futuro.
*   **Parâmetros de Caminho:**
    *   `id` (string, UUID, obrigatório): ID da posição.
*   **Corpo da Requisição:**
    ```json
    {
      "quantity": 500 // quantidade a sacar
    }
    ```
*   **Resposta (200 OK):** Objeto de trade após o cash-in.
    ```json
    {
      // ... outros campos ...
      "quantity": 500, // nova quantidade
      "margin": 500,   // nova margem
      // ... outros campos ...
    }
    ```

### 2.9. Adicionar Margem a Futuros

*   **Método:** `POST`
*   **Caminho:** `/futures/{id}/add-margin`
*   **Descrição:** Adiciona margem a uma posição de futuro em execução.
*   **Parâmetros de Caminho:**
    *   `id` (string, UUID, obrigatório): ID da posição.
*   **Corpo da Requisição:**
    ```json
    {
      "amount": 1000 // quantidade de margem em sats
    }
    ```
*   **Resposta (200 OK):** Objeto de trade atualizado com nova margem.
    ```json
    {
      // ... outros campos ...
      "margin": 2000, // nova margem total
      // ... outros campos ...
    }
    ```

---

## 3. Operações de Opções (Autenticadas)

### 3.1. Abrir uma Posição de Opções

*   **Método:** `POST`
*   **Caminho:** `/options`
*   **Descrição:** Abre uma nova posição de opção.
*   **Headers:** `Content-Type: application/json` + Cabeçalhos de autenticação.
*   **Corpo da Requisição:** (Específico para o tipo de opção - call, put, straddle)
*   **Resposta (200 OK):** Objeto de trade de opção aberto.

### 3.2. Obter Posições de Opções

*   **Método:** `GET`
*   **Caminho:** `/options`
*   **Descrição:** Obtém as posições de opção do usuário.
*   **Parâmetros de Query:**
    *   `type` (string, obrigatório): `running`, `open`, `closed`.
    *   `from` (integer, opcional): Timestamp inicial (ms).
    *   `to` (integer, opcional): Timestamp final (ms).
    *   `limit` (integer, opcional, padrão: 100, min: 1, max: 1000): Número máximo de registros.
*   **Resposta (200 OK):** Array de objetos de trade de opção.
    ```json
    {
      "trades": [
        {
          "id": "49d4f418-5190-48b9-9c32-856381dc8aa2",
          "uid": "c6c1a624-f2b4-48c9-b07a-7fd037770bd2",
          "forward": 29840,
          "forward_point": 6,
          "domestic": "BTC",
          "settlement": "cash",
          "fixing_price": 29840,
          "creation_ts": 1689695082638,
          "expiry_ts": 1689753600000,
          "closed_ts": 1689695087302,
          "leg_id": "a6a05452-d445-4d08-a39a-c73126faa098",
          "side": "b",
          "type": "c", // c = call, p = put
          "quantity": 100,
          "strike": 29000,
          "volatility": 1.1670000553131104,
          "margin": 12744,
          "pl": -2744,
          "maintenance_margin": 0,
          "opening_fee": 172,
          "closing_fee": 172,
          "running": false,
          "closed": true,
          "expired": false,
          "exercised": false
        }
      ]
    }
    ```
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid parameter: type"
    }
    ```

### 3.3. Fechar uma Posição de Opções

*   **Método:** `DELETE`
*   **Caminho:** `/options/{id}`
*   **Descrição:** Fecha uma posição de opção específica.
*   **Parâmetros de Caminho:**
    *   `id` (string, UUID, obrigatório): ID da posição.
*   **Resposta (200 OK):** Objeto de trade de opção fechado.
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid request"
    }
    ```

### 3.4. Atualizar Parâmetros de Opção em Execução

*   **Método:** `PUT`
*   **Caminho:** `/options/{id}`
*   **Descrição:** Atualiza parâmetros de uma posição de opção em execução (ex: `settlement`).
*   **Parâmetros de Caminho:**
    *   `id` (string, UUID, obrigatório): ID da posição.
*   **Corpo da Requisição:**
    ```json
    {
      "settlement": "cash" // ou "physical"
    }
    ```
*   **Resposta (200 OK):** Objeto de trade de opção atualizado.

---

## 4. Operações de Usuário (Autenticadas)

### 4.1. Obter Informações do Usuário

*   **Método:** `GET`
*   **Caminho:** `/user`
*   **Descrição:** Obtém as configurações e informações do usuário autenticado.
*   **Resposta (200 OK):**
    ```json
    {
      "account_type": "lnurl",
      "auto_withdraw_enabled": false,
      "auto_withdraw_lightning_address": null,
      "totp_enabled": true,
      "webauthn_enabled": false,
      "fee_tier": 0,
      // ... outros campos
    }
    ```

### 4.2. Atualizar Informações do Usuário

*   **Método:** `PUT`
*   **Caminho:** `/user`
*   **Descrição:** Atualiza as configurações do usuário.
*   **Headers:** `Content-Type: application/json` + Cabeçalhos de autenticação.
*   **Corpo da Requisição:**
    ```json
    {
      "show_leaderboard": false,
      "auto_withdraw_enabled": true,
      "auto_withdraw_lightning_address": "your@lightning.address"
      // ... outros campos opcionais
    }
    ```
*   **Resposta (200 OK):** Objeto de usuário atualizado.
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid parameters"
    }
    ```

### 4.3. Criar Endereço de Depósito Bitcoin

*   **Método:** `POST`
*   **Caminho:** `/user/deposits/bitcoin`
*   **Descrição:** Gera um novo endereço Bitcoin para depósitos.
*   **Headers:** `Content-Type: application/json` + Cabeçalhos de autenticação.
*   **Corpo da Requisição:**
    ```json
    {
      "format": "p2wpkh" // ou "p2tr"
    }
    ```
*   **Resposta (200 OK):**
    ```json
    {
      "address": "bc1pzdg8s93p0mc019j5zjcrwtygyvs89rejkyqu7xButhy6vxf3qyhq90a4w",
      "creation_ts": 1675790780000
    }
    ```
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid address format"
    }
    ```

### 4.4. Obter Depósito por ID

*   **Método:** `GET`
*   **Caminho:** `/user/deposits/{id}`
*   **Descrição:** Obtém detalhes de um depósito específico.
*   **Parâmetros de Caminho:**
    *   `id` (string, UUID, obrigatório): ID do depósito.
*   **Resposta (200 OK):**
    ```json
    {
      "id": "string",
      "amount": 0,
      "tx_id": "string",
      "is_confirmed": true,
      "ts": 0,
      "type": "bitcoin"
    }
    ```

### 4.5. Obter Múltiplos Depósitos

*   **Método:** `GET`
*   **Caminho:** `/user/deposits`
*   **Descrição:** Obtém uma lista de depósitos do usuário.
*   **Parâmetros de Query:**
    *   `types` (string, opcional): Lista separada por vírgulas de tipos de depósito (`bitcoin`, `internal`, `lightning`).
*   **Resposta (200 OK):** Array de objetos de depósito.

### 4.6. Criar Requisição de Depósito Lightning

*   **Método:** `POST`
*   **Caminho:** `/user/deposits/lightning`
*   **Descrição:** Gera uma invoice Lightning para depósito.
*   **Headers:** `Content-Type: application/json` + Cabeçalhos de autenticação.
*   **Corpo da Requisição:**
    ```json
    {
      "amount": 1337 // valor em sats
    }
    ```
*   **Resposta (200 OK):**
    ```json
    {
      "depositId": "66d68e66-b450-4ce2-a402-fd8e8dab828e",
      "paymentRequest": "lnbc73370n7pjufyndpp5p96cfwq662q0mkn7a0vy4h8rq5z6kw5q0l68udwrhg8na909wwsdzcf38zqntpwf4k2arnypzx2ur0wd5hggp4x9jk2vp4ve6z6dtxx4mz6dryxqez6wpsxumz6cejvemnzc3nxs6nwdeheqzzsxgzz6rzjqvk2judrj9wwqukxqpqdy3vrfdx4dueytinx4hpf70uf0r7ew1hmjuqqzpcqqqqgqqqqqgqlgqqqqqqgq2qsp5aynr4rr94ytesyx7pep2024ssdqjx7dj6m6ncckt0wt6nkcydp6q9qyyssqxx0r3nxy84ym9t5d4nrj2h90elhmmt5q7av3wg0tdcdxzpvu6fwpp96ejfkdg2fm8kuzkfp72qwxw24g4k73dalcn2gqzvmp3q369mqpydqr3r",
      "expiry": 90
    }
    ```
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid amount"
    }
    ```

### 4.7. Obter Retirada por ID

*   **Método:** `GET`
*   **Caminho:** `/user/withdrawals/{id}`
*   **Descrição:** Obtém detalhes de uma retirada específica.
*   **Parâmetros de Caminho:**
    *   `id` (string, UUID, obrigatório): ID da retirada.
*   **Resposta (200 OK):** Objeto de retirada.
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid withdrawal ID"
    }
    ```

### 4.8. Obter Múltiplas Retiradas

*   **Método:** `GET`
*   **Caminho:** `/user/withdrawals`
*   **Descrição:** Obtém uma lista de retiradas do usuário.
*   **Parâmetros de Query:**
    *   `types` (string, opcional): Lista separada por vírgulas de tipos de retirada (`bitcoin`, `internal`, `lightning`).
*   **Resposta (200 OK):** Array de objetos de retirada.

### 4.9. Criar Nova Retirada

*   **Método:** `POST`
*   **Caminho:** `/user/withdrawals`
*   **Descrição:** Cria uma nova solicitação de retirada para uma invoice Lightning.
*   **Headers:** `Content-Type: application/json` + Cabeçalhos de autenticação.
*   **Corpo da Requisição:**
    ```json
    {
      "invoice": "lnbc13370n1pjufy72pp5eyxlltyeyzhwppmzqvy2mp7d44xq3vpmgqj90cyszngx..."
    }
    ```
*   **Resposta (200 OK):**
    ```json
    {
      "id": "fbec0da3-1276-4583-9b56-e2cc074db278",
      "paymentHash": "c90dffac9920aec087620308a987cdad4c08b03b402457e09914e1c30a789e98",
      "amount": 1337,
      "fee": 22,
      "successTime": 1707381751702
    }
    ```
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid request"
    }
    ```

---

## 5. Swaps (Autenticados)

### 5.1. Criar Novo Swap

*   **Método:** `POST`
*   **Caminho:** `/swaps`
*   **Descrição:** Cria um novo swap sintético entre BTC e USD.
*   **Headers:** `Content-Type: application/json` + Cabeçalhos de autenticação.
*   **Corpo da Requisição:**
    ```json
    {
      "in_asset": "BTC", // ou "USD"
      "out_asset": "USD", // ou "BTC"
      "in_amount": 1337 // quantidade do ativo de entrada
    }
    ```
*   **Resposta (200 OK):** (Detalhes do swap criado - estrutura não fornecida nos snippets, mas implícita)

---

## 6. Notificações (Autenticadas)

### 6.1. Obter Notificações

*   **Método:** `GET`
*   **Caminho:** `/notifications`
*   **Descrição:** Obtém as notificações do usuário.
*   **Resposta (200 OK):** Array de objetos de notificação (estrutura não detalhada nos snippets).
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid request"
    }
    ```

### 6.2. Marcar Todas as Notificações como Lidas

*   **Método:** `PUT`
*   **Caminho:** `/notifications/mark-all-as-read`
*   **Descrição:** Marca todas as notificações como lidas.
*   **Resposta (200 OK):**
    ```json
    {}
    ```
*   **Resposta (400 Bad Request):**
    ```json
    {
      "error": "Invalid request"
    }
    ```

---

## 7. WebSocket API

*   **Base URL (Mainnet):** `wss://api.lnmarkets.com`
*   **Base URL (Testnet):** `wss://api.testnet4.lnmarkets.com`
*   **Especificação:** JSON-RPC 2.0.
*   **Formato de Requisição:**
    ```json
    {
      "jsonrpc": "2.0",
      "method": "subscribe", // ou "unsubscribe"
      "id": "faffssdfsdf432", // ID único aleatório
      "params": {
        "event": "futures:btc_usd:last-price"
      }
    }
    ```

### 7.1. Subscrições Disponíveis

*   `"futures:btc_usd:index"`
*   `"futures:btc_usd:last-price"`
*   `"options:btc_usd:volatility-index"`
*   `"options:instruments:disable"`
*   `"options:instruments:enable"`
*   `"options:instruments:removed"`

---

## 8. Códigos de Resposta HTTP

| Código | Significado |
| :--- | :--- |
| 400 | Bad Request – formato da requisição inválido |
| 401 | Unauthorized – chave de API inválida ou escopo incorreto |
| 403 | Forbidden – chave de API não tem permissão para o escopo solicitado |
| 404 | Not Found |
| 405 | Method Not Allowed |
| 418 | I’m a teapot |
| 429 | Too Many Requests – limite de taxa excedido |
| 500 | Internal Server Error |
| 503 | Service Unavailable – modo de manutenção |

---